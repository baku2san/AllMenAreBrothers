# 水滸伝戦略ゲーム - Copilot Instructions

<!-- Use this file to provide workspace-specific custom instructions to Copilot. For more details, visit https://code.visualstudio.com/docs/copilot/copilot-customization#_use-a-githubcopilotinstructionsmd-file -->

## プロジェクト概要
このプロジェクトは、中国古典小説「水滸伝」を題材にしたターン制戦略シミュレーションゲームです。北宋時代を舞台に、梁山泊を拠点として天下統一を目指すFlutterアプリケーションです。

## コーディング指針

### ゲーム設計
- **ターン制戦略ゲーム**: プレイヤーのターンと敵AIのターンを交互に実行
- **州管理システム**: 各州には人口、農業、商業、治安、軍事、民心の6つのパラメータ
- **勢力システム**: 梁山泊（プレイヤー）、朝廷、豪族、中立、盗賊の5つの勢力
- **歴史的リアリティ**: 水滸伝の世界観と北宋時代の歴史を重視

### Dartコーディング規約
- **イミュータブルデザイン**: できる限りfinalやconstを使用
- **関数型プログラミング**: 副作用を避け、純粋関数を優先
- **型安全性**: 明示的な型注釈とnull安全性の活用
- **日本語コメント**: クラス、メソッド、重要なロジックには日本語での説明を記載

### ファイル構成
- `lib/models/`: ゲームのデータモデル（Province, Faction, GameState等）
- `lib/data/`: 静的データ（マップデータ、初期設定等）
- `lib/screens/`: UI画面（メインマップ、州詳細、戦闘画面等）
- `lib/widgets/`: 再利用可能なUIコンポーネント
- `lib/services/`: ゲームロジック、AI、セーブ/ロード機能

### UI/UX指針
- **中国古典風デザイン**: 水滸伝の世界観に合った色彩とフォント
- **直感的操作**: タップで州選択、スワイプでマップ移動
- **情報の可視化**: 州のステータスを分かりやすくグラフィカルに表示
- **レスポンシブ**: タブレットとスマートフォンの両方に対応

### パフォーマンス
- **軽量な描画**: 大量の州データを効率的に描画
- **メモリ管理**: ゲーム状態の適切な管理とクリーンアップ
- **バックグラウンド処理**: AIの思考時間を最小化

### テスト
- **ユニットテスト**: ゲームロジックの重要な部分をテスト
- **ウィジェットテスト**: UI コンポーネントの動作確認
- **統合テスト**: ゲーム全体のフローをテスト
